@use "../../../styles/theme" as *;

.case-study-story {
    &__layout {
        display: grid;
        grid-template-columns: 2fr 1fr;
        gap: 2.8rem;
        align-items: flex-start;

        @media (max-width: 900px) {
            grid-template-columns: minmax(0, 1fr);
            gap: 2rem;
        }
    }

    &__prose {
        max-width: 44rem;

        h2 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            color: var(--cs-text);
        }

        p {
            font-size: 0.98rem;
            line-height: 1.9;
            color: var(--cs-muted);

            &:not(:last-child) {
                margin-bottom: 0.9rem;
            }
        }
    }

    /* RIGHT COLUMN */
    &__card-column {
        display: flex;
        flex-direction: column;
        gap: 2rem;
        /* instead of 32px */
        align-items: stretch;
    }

    &__stack-toggle {
        display: inline-flex;
        flex-wrap: wrap;
        gap: 0.6rem;
        align-self: flex-start;
    }

    /* This now only does component-specific tweaks.
     Base visuals come from .case-study-pill in shared.scss */
    &__toggle-pill {
        /* optional: if you want slightly tighter pills here */
        padding: 0.35rem 0.8rem;
    }

    &__toggle-label {
        font-weight: 600;
        letter-spacing: 0.08em;
    }

    &__card-shell {
        position: relative;
    }

    &__card-stack {
        display: grid;
    }

    /* Base visuals come from .case-study-card in shared.scss */
    &__card {
        grid-area: 1 / 1;

        /* keep unique spacing for this card if you want */
        padding: 1.4rem 1.5rem;

        transform-origin: center center;
        will-change: transform, opacity, box-shadow;
    }

    /* renamed from --active/--back to match your new JSX */
    &__card.is-active {
        .case-study-story__block {
            opacity: 1;
        }
    }

    &__card.is-back {
        .case-study-story__block {
            opacity: 0;
            pointer-events: none;
        }
    }

    &__block {
        h3 {
            font-size: 1.1rem;
            margin-bottom: 0.4rem;
            color: var(--cs-text);
        }

        p {
            font-size: 0.96rem;
            line-height: 1.7;
            color: var(--cs-muted);
            margin-bottom: 0.5rem;
        }

        ul {
            padding-left: 1.1rem;
            font-size: 0.96rem;
            color: var(--cs-text);

            li {
                margin-bottom: 0.35rem;
            }
        }
    }
}