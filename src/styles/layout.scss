/* src/app/layout.scss */
@use "./theme" as *;

:root {
    --nav-offset: 224px;
    --nav-h: 100px;
    --vv-top: 0px;
}

section[id] {
    scroll-margin-top: var(--nav-offset);
}

section {
    width: 90%;
    margin: auto;
    margin-bottom: 40%;

    &:last-child {
        margin-bottom: 20%;
    }

    @include mobile {
        width: 100%;
        margin-bottom: 100dvh;
    }
}

:root {
    --glass-filter: blur(18px) saturate(160%);
    --glass-tint: rgba(255, 255, 255, 0.01);
    --menu-h: 0px;
    /* NEW */
}

/* Global glass slab that provides the blur for navbar + dropdown */
#glass-slab {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;

    /* âœ… extendable */
    height: calc(var(--nav-h) + var(--menu-h));

    background-color: var(--glass-tint);
    backdrop-filter: var(--glass-filter);
    -webkit-backdrop-filter: var(--glass-filter);

    pointer-events: none;
    z-index: 1000;
    transform: translateY(var(--vv-top));
}

/* When menu is closed, menu height is 0 */
body:not(.menu-open) {
    --menu-h: 0px;
}

body.menu-open #glass-slab {
    height: calc(var(--nav-h) + var(--menu-h));
}